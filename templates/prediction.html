<!DOCTYPE html>
<html>
<head>
    <title>Track popularity</title>    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./static/styles/output.css">
    <link rel="stylesheet" href="./static/styles/font.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
</head>
<body class="max-w-300 3xl:max-w-700 mx-auto max-md:px-8 max-lg:px-20 max-xl:px-28 max-2xl:px-32">
    <main>
        <div class="my-5 3xl:my-24">            
            <a href="/" class="flex items-center gap-2"><span class="mdi mdi-arrow-left-thin text-2xl 3xl:text-4xl"></span> <span>Return</span></a>
        </div>
        <section class="grid 2xl:grid-cols-6 max-md:mb-5 max-2xl:mb-16">
            <div class="2xl:col-span-2 max-md:max-h-40 max-2xl:max-h-72 max-2xl:overflow-hidden max-2xl:flex max-2xl:justify-center max-2xl:items-center">
                <img class="opacity-85" src="./static/images/spotify-app.jpg" alt="Using spotify (from pixels)">
            </div>
            <div class="2xl:col-span-4 border-2 3xl:border-4 border-black py-5 md:max-2xl:py-12 3xl:py-40 px-10 lg:px-14 xl:px-10 3xl:px-28">
                <h2 class="instrument-sans-bold text-2xl 3xl:text-6xl mb-8 3xl:mb-24">Predict the track popularity</h2>
                <form action="/predict" method="post" class="flex flex-col gap-8 3xl:gap-20">
                    <div>
                        <p class="instrument-sans-bold"><span class="mdi mdi-account-music text-lg 3xl:text-2xl"></span> Artist</p>
                        <fieldset>
                            <div>
                                <label for="artist-popularity">Popularity score:</label>
                                <input type="number" name="artist-popularity" required>
                            </div>
                            <div>
                                <label for="artist-followers">Followers:</label>
                                <input type="number" name="artist-followers" required>
                            </div>
                            <div>
                                <label for="artist-genre">Genre:</label>
                                <input type="text" name="artist-genre" required>
                            </div>
                        </fieldset>
                    </div>
                    <div>
                        <p class="instrument-sans-bold"><span class="mdi mdi-music text-lg 3xl:text-2xl"></span> Track</p>
                        <fieldset>
                            <div>
                                <label for="explicit">Explicit</label>
                                <select name="explicit">
                                    <option value="0">No</option>
                                    <option value="1">Yes</option>
                                </select>
                            </div>
                            <div>
                                <label for="track-duration-min">Track duration (minute):</label>
                                <input type="number" step="0.2" name="track-duration-min" placeholder="eg, 3.45  for 03:45" required>
                            </div>
                            <div>
                                <label for="track-number">Track number:</label>
                                <input type="number" name="track-number" required> 
                            </div>
                        </fieldset>
                    </div>
                    <div>
                        <p class="instrument-sans-bold"><span class="mdi mdi-album text-lg 3xl:text-2xl"></span>Album</p>
                        <fieldset>
                            <div>
                                <label for="year">Release year:</label>
                                <input type="number" name="year" required>
                            </div>
                            <div>
                                <label for="album-type">Album type:</label>
                                <select name="album-type" id="album-type" required>
                                    <option value="" class="text-xs text-center">-- Select an album type --</option>
                                    {% for option in album_types %}
                                        <option value="{{ option.value }}">
                                            {{ option.label }}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <label for="album-total-tracks">Album total tracks:</label>
                                <input type="number" name="album-total-tracks" required>
                            </div>
                        </fieldset>
                    </div>
                    <div class="flex justify-start">
                        <button type="submit" class="bg-black text-white py-2 xl:py-2.5 w-full lg:w-32 3xl:w-72 hover:bg-black/80 transition-all">
                            Predict
                        </button>
                    </div>
                    {% if prediction %}
                        <p class="text-2xl">Predicted Popularity: <span class="text-green-500 instrument-sans-bold">{{ prediction }}</span></p>
                    {% endif %}
                </form>
            </div>
        </section>
    </main>
</body>
</html>