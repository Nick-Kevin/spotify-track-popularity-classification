<!DOCTYPE html>
<html>
<head>
    <title>Track popularity</title>    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./static/styles/output.css">
    <link rel="stylesheet" href="./static/styles/font.css">
</head>
<body class="max-w-300 mx-auto">
    <main>
        <div class="my-5">
            <a href="/">Return</a>
        </div>
        <section class="grid grid-cols-6">
            <div class="col-span-2">
                <img src="./static/images/spotify-app.jpg" alt="Using spotify (from pixels)">
            </div>
            <div class="col-span-4 border-2 border-black py-5 px-10">
                <h2 class="instrument-sans-bold text-2xl mb-8">Predict the track popularity</h2>
                <form action="/predict" method="post" class="flex flex-col gap-8 text-sm">
                    <div>
                        <p class="instrument-sans-bold">Artist</p>
                        <fieldset>
                            <div>
                                <label for="artist-popularity">Artist popularity:</label>
                                <input type="number" name="artist-popularity" required>
                            </div>
                            <div>
                                <label for="artist-followers">Artist followers:</label>
                                <input type="number" name="artist-followers" required>
                            </div>
                            <div>
                                <label for="artist-genre">Genre:</label>
                                <input type="text" name="artist-genre" required>
                            </div>
                        </fieldset>
                    </div>
                    <div>
                        <p class="instrument-sans-bold">Track</p>
                        <fieldset>
                            <div>
                                <label for="explicit">Explicit</label>
                                <select name="explicit">
                                    <option value="0">No</option>
                                    <option value="1">Yes</option>
                                </select>
                            </div>
                            <div>
                                <label for="track-duration-min">Track duration (minute):</label>
                                <input type="number" step="0.2" name="track-duration-min" placeholder="eg, 3.45  for 03:45" required>
                            </div>
                            <div>
                                <label for="track-number">Track number:</label>
                                <input type="number" name="track-number" required> 
                            </div>
                        </fieldset>
                    </div>
                    <div>
                        <p class="instrument-sans-bold">Album</p>
                        <fieldset>
                            <div>
                                <label for="year">Release year:</label>
                                <input type="number" name="year" required>
                            </div>
                            <div>
                                <label for="album-type">Album type:</label>
                                <select name="album-type" id="album-type" required>
                                    <option value="">-- Select an album type --</option>
                                    {% for option in album_types %}
                                        <option value="{{ option.value }}">
                                            {{ option.label }}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <label for="album-total-tracks">Album total tracks:</label>
                                <input type="number" name="album-total-tracks" required>
                            </div>
                        </fieldset>
                    </div>
                    <div class="flex justify-start">
                        <button type="submit" class="bg-black text-white py-2.5 w-32 hover:bg-black/80 transition-all">
                            Predict
                        </button>
                    </div>
                    {% if prediction %}
                        <p class="text-2xl">Predicted Popularity: <span class="text-green-500 instrument-sans-bold">{{ prediction }}</span></p>
                    {% endif %}
                </form>
            </div>
        </section>
    </main>
</body>
</html>